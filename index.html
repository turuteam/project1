html
<!DOCTYPE html>
<html>
<head>
<title>Headphone connection test</title>
</head>
<body>
<button id="myButton"><h1>Update Device</h1></button>



<script type="text/javascript">
// Create an AudioContext
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();



// Create a GainNode to output the sound
const gainNode = audioCtx.createGain();
gainNode.connect(audioCtx.destination);



// Create an oscillator node to play a sound
const oscillatorNode = audioCtx.createOscillator();
oscillatorNode.type = 'sine';
oscillatorNode.frequency.setValueAtTime(440, audioCtx.currentTime);
oscillatorNode.connect(gainNode);



// Function to check the headphone connection status
function checkHeadphoneConnection() {
if (audioCtx.destination.maxChannelCount > 0) {
oscillatorNode.start();
oscillatorNode.stop(audioCtx.currentTime + 1);
alert('Headphones connected');
} else {
alert('Headphones not connected');
}
}



// Add an event listener to the button to check for headphone connections when clicked
document.getElementById('myButton').addEventListener('click', checkHeadphoneConnection);
</script>
</body>
</html>
