<head>
<title>Headphone connection test</title>
</head>

<body>
<button id="myButton"><h1>updatedevice</h1></button>

<script type="text/javascript">
  document.querySelector("#myButton").addEventListener("click", () => {

    var check_output = false;

    if (!navigator.mediaDevices?.enumerateDevices) {
      console.log("enumerateDevices() not supported.");
    } else{


    navigator.mediaDevices
      .enumerateDevices()
      .then((devices) => {
        devices.forEach((device) => {
        // console.log(`${device.kind}: ${device.label} id = ${device.deviceId} , devicelen = ${device.kind.indexOf("audiooutput")}`);

        if (parseInt(`${device.kind.indexOf("audiooutput")}`)>= 0){
          check_output = true;
          alert("check_output connected");
        }
          // console.log(parseInt(`${device.kind.indexOf("audiooutput")}`));
        });
      })
      .catch((err) => {
        console.error(`${err.name}: ${err.message}`);
      });

      // console.log("result" + check_output);
    }

      
  });


</script>

</body>
